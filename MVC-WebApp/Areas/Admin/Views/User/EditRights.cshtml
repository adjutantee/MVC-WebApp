@using MVC_WebApp.Areas.Admin.Models
@model EditRightsViewModel

<form method="post">

    <div>
        <h3>Текущие роли для пользователя @Model.UserName</h3>
    </div>

    <div class="text-danger font-weight-bold" asp-validation-summary="All"></div>

    <input type="hidden" name="userName" value="@Model.UserName" />

    @foreach (var role in Model.AllRoles)
    {
        <div>
            @if (Model.UserRoles.Contains(role))
            {
                <input class="form-check-input" name="userRolesViewModel[@role.Name]" type="checkbox" value="true" checked />
                <label class="form-check-label" for="flexCheckDefault">@role.Name</label>
            }
            else
            {
                <input class="form-check-input" name="userRolesViewModel[@role.Name]" type="checkbox" value="true" />
                <label class="form-check-label" for="flexCheckDefault">@role.Name</label>
            }
        </div>
    }

    <button class="btn btn-primary" type="submit" asp-area="Admin" asp-controller="User" asp-action="EditRights" role="button">Сохранить изменения</button>
</form>